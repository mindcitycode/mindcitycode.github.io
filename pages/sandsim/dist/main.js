(()=>{var t=[function(t,e,n){var o;!function(r,i,c){var s,a=256,l=c.pow(a,6),u=c.pow(2,52),d=2*u,h=255;function f(t,e,n){var o=[],h=v(p((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(i)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(a):(t=new Uint8Array(a),(r.crypto||r.msCrypto).getRandomValues(t)),m(t)}catch(t){var e=r.navigator,n=e&&e.plugins;return[+new Date,r,n,r.screen,m(i)]}}():t,3),o),f=new x(o),g=function(){for(var t=f.g(6),e=l,n=0;t<u;)t=(t+n)*a,e*=a,n=f.g(1);for(;t>=d;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|f.g(4)},g.quick=function(){return f.g(4)/4294967296},g.double=g,v(m(f.S),i),(e.pass||n||function(t,e,n,o){return o&&(o.S&&y(o,f),t.state=function(){return y(f,{})}),n?(c.random=t,e):t})(g,h,"global"in e?e.global:this==c,e.state)}function x(t){var e,n=t.length,o=this,r=0,i=o.i=o.j=0,c=o.S=[];for(n||(t=[n++]);r<a;)c[r]=r++;for(r=0;r<a;r++)c[r]=c[i=h&i+t[r%n]+(e=c[r])],c[i]=e;(o.g=function(t){for(var e,n=0,r=o.i,i=o.j,c=o.S;t--;)e=c[r=h&r+1],n=n*a+c[h&(c[r]=c[i=h&i+e])+(c[i]=e)];return o.i=r,o.j=i,n})(a)}function y(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){var n,o=[],r=typeof t;if(e&&"object"==r)for(n in t)try{o.push(p(t[n],e-1))}catch(t){}return o.length?o:"string"==r?t:t+"\0"}function v(t,e){for(var n,o=t+"",r=0;r<o.length;)e[h&r]=h&(n^=19*e[h&r])+o.charCodeAt(r++);return m(e)}function m(t){return String.fromCharCode.apply(0,t)}if(v(c.random(),i),t.exports){t.exports=f;try{s=n(9)}catch(t){}}else void 0===(o=function(){return f}.call(e,n,e,t))||(t.exports=o)}("undefined"!=typeof self?self:this,[],Math)},function(t,e,n){var o;!function(t,r,i){function c(t){var e,n=this,o=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var o=.02519603282416938*(e+=t.charCodeAt(n));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=o(" "),n.s1=o(" "),n.s2=o(" "),n.s0-=o(t),n.s0<0&&(n.s0+=1),n.s1-=o(t),n.s1<0&&(n.s1+=1),n.s2-=o(t),n.s2<0&&(n.s2+=1),o=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new c(t),o=e&&e.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,o&&("object"==typeof o&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.alea=a}(0,t=n.nmd(t),n.amdD)},function(t,e,n){var o;!function(t,r,i){function c(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var o=0;o<n.length+64;o++)e.x^=0|n.charCodeAt(o),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new c(t),o=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,o&&("object"==typeof o&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.xor128=a}(0,t=n.nmd(t),n.amdD)},function(t,e,n){var o;!function(t,r,i){function c(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var o=0;o<n.length+64;o++)e.x^=0|n.charCodeAt(o),o==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new c(t),o=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,o&&("object"==typeof o&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.xorwow=a}(0,t=n.nmd(t),n.amdD)},function(t,e,n){var o;!function(t,r,i){function c(t){var e=this;e.next=function(){var t,n,o=e.x,r=e.i;return t=o[r],n=(t^=t>>>7)^t<<24,n^=(t=o[r+1&7])^t>>>10,n^=(t=o[r+3&7])^t>>>3,n^=(t=o[r+4&7])^t<<7,t=o[r+7&7],n^=(t^=t<<13)^t<<9,o[r]=n,e.i=r+1&7,n},function(t,e){var n,o=[];if(e===(0|e))o[0]=e;else for(e=""+e,n=0;n<e.length;++n)o[7&n]=o[7&n]<<15^e.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;n<8&&0===o[n];++n);for(8==n?o[7]=-1:o[n],t.x=o,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new c(t),o=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,o&&(o.x&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.xorshift7=a}(0,t=n.nmd(t),n.amdD)},function(t,e,n){var o;!function(t,r,i){function c(t){var e=this;e.next=function(){var t,n,o=e.w,r=e.X,i=e.i;return e.w=o=o+1640531527|0,n=r[i+34&127],t=r[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=r[i]=n^t,e.i=i,n+(o^o>>>16)|0},function(t,e){var n,o,r,i,c,s=[],a=128;for(e===(0|e)?(o=e,e=null):(e+="\0",o=0,a=Math.max(a,e.length)),r=0,i=-32;i<a;++i)e&&(o^=e.charCodeAt((i+32)%e.length)),0===i&&(c=o),o^=o<<10,o^=o>>>15,o^=o<<4,o^=o>>>13,i>=0&&(c=c+1640531527|0,r=0==(n=s[127&i]^=o+c)?r+1:0);for(r>=128&&(s[127&(e&&e.length||0)]=-1),r=127,i=512;i>0;--i)o=s[r+34&127],n=s[r=r+1&127],o^=o<<13,n^=n<<17,o^=o>>>15,n^=n>>>12,s[r]=o^n;t.w=c,t.X=s,t.i=r}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new c(t),o=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,o&&(o.X&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.xor4096=a}(0,t=n.nmd(t),n.amdD)},function(t,e,n){var o;!function(t,r,i){function c(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,o=e.d,r=e.a;return t=t<<25^t>>>7^n,n=n-o|0,o=o<<24^o>>>8^r,r=r-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-o|0,e.d=o<<16^n>>>16^r,e.a=r-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var o=0;o<n.length+20;o++)e.b^=0|n.charCodeAt(o),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new c(t),o=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,o&&("object"==typeof o&&s(o,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n.amdD&&n.amdO?void 0===(o=function(){return a}.call(e,n,e,r))||(r.exports=o):this.tychei=a}(0,t=n.nmd(t),n.amdD)},(t,e,n)=>{var o=n(1),r=n(2),i=n(3),c=n(4),s=n(5),a=n(6),l=n(0);l.alea=o,l.xor128=r,l.xorwow=i,l.xorshift7=c,l.xor4096=s,l.tychei=a,t.exports=l},,()=>{}],e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=n(7);const e=(t,e,n)=>Math.max(e,Math.min(t,n)),o=n.n(t)()("hello."),r=(t,e)=>t+Math.floor((e-t)*o()),i=((t,e)=>{const n=100*t/e,o=document.createElement("style");o.textContent=`\nbody { \n    background-color : black;\n    margin:0;\n    border:0;\n    padding : 0;\n}\ncanvas.fullscreen {\n    background-color : black;\n    image-rendering: pixelated;\n    image-rendering: crisp-edges;\n    width : min(100vw,${n}vh);\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);    \n}\n`,document.head.appendChild(o);const r=document.createElement("canvas");return r.width=t,r.height=e,r.classList.add("fullscreen"),document.body.appendChild(r),r})(200,200),c=i.getContext("2d"),s=c.getImageData(0,0,i.width,i.height),a=(t,e,n,o,r,c)=>{const a=4*(t+i.width*e);s.data[a]=n,s.data[a+1]=o,s.data[a+2]=r,s.data[a+3]=c},l=(t,e)=>t>0&&t<i.width&&e>0&&e<i.height;c.fillStyle="white",c.fillRect(0,0,i.width,i.height);const u={x:0,y:0,clicked:!1,type:1,shape:0};document.body.addEventListener("mousemove",(t=>((t,e,n={x:void 0,y:void 0})=>{var o=t.getBoundingClientRect(),r=t.width/o.width,i=t.height/o.height;n.x=(e.clientX-o.left)*r,n.y=(e.clientY-o.top)*i})(i,t,u))),document.body.addEventListener("mousedown",(t=>u.clicked=!0)),document.body.addEventListener("mouseup",(t=>u.clicked=!1));const d=new Array(i.width*i.height),h=(t,e)=>d[t+i.width*e],f=(t,e,n)=>d[t+i.width*e]=n,x=[],y=[void 0,[227,219,101],[0,0,238],[170,170,170],[255,5,3],[133,94,66],[0,255,160],[255,255,255],[255,192,203],[15,240,255]],p=[{symbol:"⬤",getPoints:(t,e)=>{const n=[];for(let r=0;r<10;r++){const r=o()*Math.PI*2,i=5*o(),c=Math.floor(t+i*Math.cos(r)),s=Math.floor(e+i*Math.sin(r));n.push({x:c,y:s})}return n}},{symbol:"⏹",getPoints:(t,e)=>{const n=[];for(let o=0;o<10;o++)for(let r=0;r<10;r++){const i=t+o-5,c=e+r-5;n.push({x:i,y:c})}return n}}],v=((t=16,e=64)=>{const n=document.createElement("canvas");n.width=100,n.height=30;const o=n.getContext("2d"),r=t=>t/e*n.width;return{update:i=>{o.fillStyle="rgba(0,255,0,0.025)",o.fillRect(0,0,r(t),n.height),o.fillStyle="rgba(255,0,0,0.025)",o.fillRect(r(t),0,n.width,n.height);const c=i/e*n.width;o.fillStyle="black",o.fillRect(c,0,1,n.height)},canvas:n}})();{const t=document.createElement("div");t.classList.add("toolbar"),t.style.position="fixed",t.style.width="100%",document.body.append(t),t.append(v.canvas),v.update(),p.forEach(((e,n)=>{const o=document.createElement("button");o.textContent=e.symbol,o.style["background-color"]="white",o.style.width="30px",o.style.height="30px",o.onclick=()=>u.shape=n,t.append(o)})),y.forEach(((e,n)=>{if(e){const o=document.createElement("button"),[r,i,c]=e;o.textContent=".",o.style["background-color"]=`rgb(${r},${i},${c})`,o.style.width="30px",o.style.height="30px",o.onclick=()=>u.type=n,t.append(o)}}));{const e=document.createElement("span");e.id="particle-count",e.setCount=t=>e.textContent=`${t} particles`,e.setCount(0),e.style.height="30px",e.style["font-family"]="monospace",e.style.color="white",t.append(e)}}class m{constructor(t,n,o,i,c,s=-1){Object.assign(this,{type:t,x:n,y:o,dx:i,dy:c,ttl:s}),this.col=[...y[this.type]],this.col[0]=e(this.col[0]+r(-20,20),0,255),this.col[1]=e(this.col[1]+r(-20,20),0,255),this.col[2]=e(this.col[2]+r(-20,20),0,255)}getColor(){return this.col}moveTo(t,e){a(this.x,this.y,0,0,0,255),((t,e,n)=>{f(n.x,n.y,void 0),f(t,e,n)})(t,e,this),this.x=t,this.y=e,a(this.x,this.y,...this.getColor(),255)}kill(){a(this.x,this.y,0,0,0,255),f(this.x,this.y,void 0),this.type=0}age(){this.ttl>0&&(this.ttl--,0===this.ttl&&this.kill())}reduceTtl(t){const e=Math.max(1,t);-1===this.ttl?this.ttl=e:this.ttl=Math.min(this.ttl,e)}swapWith(t){const e=t.x,n=t.y;t.x=this.x,t.y=this.y,this.x=e,this.y=n,f(this.x,this.y,this),f(t.x,t.y,t),a(this.x,this.y,...this.getColor(),255),a(t.x,t.y,...t.getColor(),255)}}for(let t=0;t<0;t++){const t=new m(r(1,3),r(0,i.width),r(0,i.height));void 0===h(t.x,t.y)&&(f(t.x,t.y,t),x.push(t),t.moveTo(t.x,t.y))}(t=>{const e=()=>{const o=performance.now();t((o-n)/1e3,o/1e3),n=o,requestAnimationFrame(e)};let n=performance.now();requestAnimationFrame(e)})(((t,e)=>{const n=performance.now();if(u.clicked){const t=p[u.shape].getPoints(u.x,u.y);for(let e=0;e<t.length;e++){const n=3===u.type?r(30,90):4===u.type?r(100,260):void 0,i=(o(),Math.PI,o(),t[e].x),c=t[e].y,s=9===u.type?2*o()-1:0,a=9===u.type?2*o()-1:0;if(l(i,c)){const t=new m(u.type,Math.floor(i),Math.floor(c),s,a,n);void 0===h(t.x,t.y)&&(x.push(t),t.moveTo(t.x,t.y))}}}for(let t=0;t<x.length;t++){const e=x[t];if(e.age(),1===e.type){const t=[[e.x,e.y+1],[e.x-1,e.y+1],[e.x+1,e.y+1]];let n=!1;for(let n=0;n<t.length;n++){const[o,r]=t[n];if(l(o,r)&&void 0===h(o,r)){e.moveTo(o,r);break}}if(!n&&l(e.x,e.y+1)){const t=h(e.x,e.y+1);t&&2===t.type&&o()>.8&&e.swapWith(t)}}else if(2===e.type){const t=[[e.x,e.y+1],[e.x-1,e.y+1],[e.x+1,e.y+1],[e.x-1,e.y],[e.x+1,e.y]];for(let n=0;n<t.length;n++){const[o,r]=t[n];if(l(o,r)){if(void 0===h(o,r)){e.moveTo(o,r);break}}}}if(3===e.type){const t=[[e.x,e.y-1],[e.x-1,e.y-1],[e.x+1,e.y-1]];if(o()>.5)for(let n=0;n<t.length;n++){const[o,r]=t[n];if(l(o,r)&&void 0===h(o,r)){e.moveTo(o,r);break}}}if(4===e.type){const t=[[e.x,e.y+1],[e.x-1,e.y+1],[e.x+1,e.y+1]];for(let n=0;n<t.length;n++){const[i,c]=t[n];if(l(i,c)){const t=h(i,c);if(void 0===t){e.moveTo(i,c);break}5===t.type&&o()>.99&&(t.type=4,t.col=[...e.col],t.reduceTtl(r(60,120)))}}{const t=e.x,n=e.y-1;if(o()>.95&&l(t,n)&&void 0===h(t,n)){const e=new m(3,t,n,0,0,r(30,60));f(e.x,e.y,e),x.push(e)}}}else if(6===e.type){{const t=[[e.x,e.y+1],[e.x,e.y-1]];for(let n=0;n<t.length;n++){const[o,i]=t[n];if(l(o,i)){const t=h(o,i);if(t&&6!==t.type){t.reduceTtl(r(10,30)),e.reduceTtl(r(20,50));break}}}}const t=[[e.x,e.y+1],[e.x-1,e.y+1],[e.x+1,e.y+1],[e.x-1,e.y],[e.x+1,e.y]];for(let n=0;n<t.length;n++){const[o,r]=t[n];if(l(o,r)&&void 0===h(o,r)){e.moveTo(o,r);break}}}else if(7===e.type){const t=[[e.x,e.y+1],[e.x-1,e.y+1],[e.x+1,e.y+1]];for(let n=0;n<t.length;n++){const[o,i]=t[n];if(l(o,i)){const t=h(o,i);if(void 0===t){e.moveTo(o,i);break}2===t.type&&e.reduceTtl(r(20,50))}}}else if(8===e.type){const t=e.x+(o()>.5?1:-1),n=e.y+(o()>.75?1:-1);l(t,n)&&void 0===h(t,n)&&e.moveTo(t,n)}else if(9===e.type){e.dy+=.1;const t=Math.round(e.x+e.dx),n=Math.round(e.y+e.dy);if(l(t,n)){const o=h(t,n);void 0===o?e.moveTo(t,n):9!==o.type&&(e.type=2)}else e.type=2}if(0===e.ttl){const e=x[x.length-1];x[t]=e,x.length--,t--}}document.getElementById("particle-count").setCount(x.length),c.putImageData(s,0,0);const i=performance.now();v.update(i-n)}))})()})();