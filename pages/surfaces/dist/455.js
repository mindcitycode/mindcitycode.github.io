(()=>{"use strict";var t,e,s={9:(t,e,s)=>{var r=s(11),n=s(15);const a=t=>{const{cells:e,positions:s}=t,r=[];for(let t=0;t<e.length;t++){const n=e[t];for(let t=0;t<3;t++){const e=s[n[t]];r.push(...e)}}return new Float32Array(r)},o=t=>{const e=(t=>{const e=new n.u9r;return e.setAttribute("position",new n.TlE(t,3)),e.computeVertexNormals(),e})(t);return{position:e.attributes.position.array,normal:e.attributes.normal.array}};class c{constructor(t,e,s,r){Object.assign(this,{center:new n.Pa4(t,e,s),radius:r,squaredRadius:r*r})}sdf(t){return this.center.distanceTo(t)-this.radius}}class i{static q=new n.Pa4;static q1=new n.Pa4;static v000=new n.Pa4(0,0,0);constructor(t,e,s){Object.assign(this,{b:new n.Pa4(t,e,s)})}sdf(t){i.q;i.q.set(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z)).sub(this.b);return i.q1.copy(i.q).max(i.v000).length()+Math.min(Math.max(i.q.x,Math.max(i.q.y,i.q.z)),0)}}class u{constructor(...t){Object.assign(this,{shapes:t})}sdf(t){return Math.min.apply(Math,this.shapes.map((e=>e.sdf(t))))}}class h{constructor(t,e){Object.assign(this,{shape0:t,shape1:e})}sdf(t){return Math.max(-1*this.shape0.sdf(t),this.shape1.sdf(t))}}class p{#t=new Map;constructor(t){Object.assign(this,{shape:t})}sdf(t){const e=[t.x,t.y,t.z].join("_"),s=this.#t.get(e);if(s)return s;{const s=this.shape.sdf(t);return this.#t.set(e,s),s}}}const l=t=>console.log("%c[surface-worker]%c "+t,"color:orange;background-color:black;","color:black");onmessage=function(t){const e=performance.now();l("computing surface net and normals....");const s=new c(3,0,0,5),f=new c(-3,0,0,5),w=new h(s,f),b=new i(1,2,4),d=new u(new i(1,1,2),new h(new i(20,2,2),new u(new h(b,w),new h(new i(3,10,3),new c(5,0,0,5))))),g=(new p(d),new n.Pa4);var m=(0,r.surfaceNets)([64,64,64],((t,e,s)=>d.sdf(g.set(t,e,s))),[[-11,-11,-11],[11,11,11]]);const v=a(m),y=o(v);l(`done, took ${this.performance.now()-e}ms`),postMessage(y)}}},r={};function n(t){var e=r[t];if(void 0!==e)return e.exports;var a=r[t]={exports:{}};return s[t](a,a.exports,n),a.exports}n.m=s,n.x=()=>{var t=n.O(void 0,[117],(()=>n(9)));return t=n.O(t)},t=[],n.O=(e,s,r,a)=>{if(!s){var o=1/0;for(h=0;h<t.length;h++){for(var[s,r,a]=t[h],c=!0,i=0;i<s.length;i++)(!1&a||o>=a)&&Object.keys(n.O).every((t=>n.O[t](s[i])))?s.splice(i--,1):(c=!1,a<o&&(o=a));if(c){t.splice(h--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[s,r,a]},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,s)=>(n.f[s](t,e),e)),[])),n.u=t=>t+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t={455:1};n.f.i=(e,s)=>{t[e]||importScripts(n.p+n.u(e))};var e=self.webpackChunksurfaces=self.webpackChunksurfaces||[],s=e.push.bind(e);e.push=e=>{var[r,a,o]=e;for(var c in a)n.o(a,c)&&(n.m[c]=a[c]);for(o&&o(n);r.length;)t[r.pop()]=1;s(e)}})(),e=n.x,n.x=()=>n.e(117).then(e);n.x()})();